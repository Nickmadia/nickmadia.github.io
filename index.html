<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics Homework</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Statistics Homework List</h1>
    </header>

    <main>
        <ul class="homework-list">
            <li><a href="homework1.html">Homework 1: Basic Statistical Concepts</a></li>
            <li><a href="homeworks/homework2.html">Homework 2</a></li>
        </ul>

        <div class="latest-preview">
            <h2>Latest Completed Homework</h2>
            <h3 id="latest-title">Loading...</h3>
            <p id="latest-description">Loading...</p>
            <a href="#" id="latest-link" class="view-more">View Latest Homework</a>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 My Statistics Blog</p>
    </footer>

    <script>
        // Homework metadata (link to files)
        const homeworkList = [
            { title: "Homework 1", file: "homework1" },
            
        ];

        // Function to fetch the description from the latest homework file
        async function getHomeworkDescription(file) {
            try {
                const response = await fetch(file);
                const text = await response.text();
                // Look for <p id="description"> tag in the HTML file
                const descriptionMatch = text.match(/<p id="description">(.*?)<\/p>/);
                return descriptionMatch ? descriptionMatch[1] : "No description available.";
            } catch (error) {
                console.error('Error fetching homework file:', error);
                return "Failed to load description.";
            }
        }

        // Function to find and display the latest homework
        async function updateLatestPreview() {
            const latestHomework = homeworkList[homeworkList.length - 1]; // Assume last in list is the latest

            document.getElementById('latest-title').textContent = latestHomework.title;
            document.getElementById('latest-link').href = latestHomework.file;

            const description = await getHomeworkDescription(latestHomework.file);
            document.getElementById('latest-description').textContent = description;
        }

        // Call the function when the page loads
        updateLatestPreview();
    </script>
</body>
</html>
